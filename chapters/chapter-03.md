學習前端只需要三個月【語言篇】
===

> 過去，我一直無法相信：一個新人在三個月裡可以學好前端。後來，我信了。因為三個月後，我又是一個前端的新人，我又需要重新入門前端。

前端領域好似也有一個“摩爾定律”。戈登·摩爾提出來：**積體電路上可容納的電晶體（電晶體）數目，約每隔24個月便會增加一倍**，後來經常被引用的“18個月”。而對於前端領域來說，每隔 3-6 個月，**知識點將增加一倍**。

過去一年（即 2016 年）的每三個月（或者半年）裡，前端領域不斷湧現出新的知識，這些新的知識不斷地在更新。這些知識點，可以源自於後臺知識領域，源自於某些特定的語言，源自於新的知識理念。我們可以很輕鬆地找到一個例子，如前端所需要的 JavaScript 語言本身，這個語言出現了越來越多的變種。

為了完成一個複雜的前端應用，我們需要編寫大量的 JavaScript 程式碼。但是早期版本的 JavaScript，並不適合編寫中大規模的前端工程。

JavaScript 語言的變化
---

幾年間，出現了 CoffeeScript、TypeScript、ClojureScript、Dart、ES6 等等的語言，他們都可以編譯為 JavaScript，隨後就可以在瀏覽器上執行。諸如 ES6，這一個新的 JavaScript 版本（現有的 JavaScript 版本，稱為 ES5，即 EcmaScritp 5），則可以在最新的瀏覽器上執行部分或者全部的特性。

這些語言在不同的時間段裡，所受到的受關注程度都是不一樣的。它們都是各自的特色，在不同的時期所到的歡迎程度也是不一樣的：

![JavaScript編譯語言](../images/js-language-compare.jpg)

這種變化相當有趣。儘管 JavaScript 是所有主流瀏覽器上唯一支援的指令碼語言，但是它在過去的主要用途是用來：做一些頁面“特效”。它可以通過 DOM API 來操作頁面上的元素，而這些元素就是顯示在頁面上的內容。

隨後 Ajax 技術誕生了，開發人員發現可以用 JavaScript 做更多的事。JavaScript 之時，是用於在客戶端上執行一些指令。而 Ajax 則可以讓瀏覽器直接與服務端通訊。這就意味著，**你可以在瀏覽器間接地去操作資料庫**，前端應用便因此而變得更加龐大。

### JavaScript

最初，JavaScript 是由 Netscape 僱傭 Brendan Eich 來開發的。當時他花了 10 天時間，設計出了這個語言的第一個版本。Netscape 與 Sun公司合作開發了該語言，當時 Java 語言比較火熱，也因此該語言由 LiveScript 改名為 JavaScript。由設計初衷就是，**適合於新手來使用**。

此時正值瀏覽器大戰之時，微軟也推出了與 JavaScript 相似的 JScript 語言，並且內建於 IE 3.0 中。隨後 IE 藉助於 Windows 的威力，逐漸地佔領了市場。後來，Netscape 便將 JavaScript 提交給歐洲計算機制造商協會進行標準化。標準化後的 JavaScript 便稱為 ECMAScript，JavaScript 的版本也以 ECMAScript 來命名。

儘管 JavaScript 的標準由 ECMA TC39[^tc39] 委員會制定，但是要操作瀏覽器的元素，還需要 DOM（Document Object Model，文件物件模型）。而 DOM 是由 W3C 組織推薦的處理 XML 的標準程式設計介面。遺憾的是，不同瀏覽器對於 DOM 的支援並不一致，還存在一定的差異。在早期的瀏覽器裡，對於 DOM、事件、Ajax 的支援存在一定的差異，因此像 jQuery 這種跨瀏覽器的 JavaScript 庫，相當的受歡迎。

[^tc39]:  TC39 是負責 JavaScript 進化的委員會。TC39 定期舉行會議，其會議是由成員公司（主要的瀏覽器廠商）派代表和特邀專家出席了會議。

然而，為了新手更容易上手，該語言缺少一些關鍵的功能，如類、模組、類型等等。在一些完備的 Web 框架裡，框架本身會擁有相應的功能。

這些問題可以由各式各樣的 JavaScript 庫來解決。

 - 我們需要**類的功能**時，可以用 klass 庫來補充；
 - 我們需要**依賴管理**時，可以用 Require.js 庫來補充；
 - 我們需要**類型檢查**時，可以用 tcomb 庫來補充；
 - 我們需要**Promise 庫來解決 callback hell**時，可以用 Bluebird 來補充。
 - 。。。

這一切看上去都很完美，但是好像有一點不對勁。

這些功能明明是這個語言應該要有的。我們卻要在一個又一個的項目裡，引用這些**本不需要**引用的庫。

### ES6+

**作為一個程式設計師，如果我們覺得一個工具不順手，那麼應該造一個新的輪子**。我也喜歡去造前端的輪子，有時候是為了理解一個框架的原理，有時候則是為了建立一個更好的工具。也因此，當 JavaScript 不能滿足前端工程師需求的時候，我們應該發展出一個更好的語言。於是，ES 6 就這樣誕生了。

繼上面的 JavaScript 的發展歷史，現在主流瀏覽器都支援 ECMAScript 5.0 版本的標準，並且部分瀏覽器可以支援 ECMAScript 6。隨後，ECMA 的草案以年份來命名，如 2016 年釋出的 ECMAScript 草案稱之為 ECMAScript 2016。而 ES 6 則對應於 ES 2015。

於是，現在：

 - 你可以使用定義函數的``預設參數``。不再需要使用 option，並 merge 這個物件了。
 - 你可以使用模板物件，使用形如`` `$ {NAME}` ``的形式來拼接模板。不再需要在一個變數切換單引號 ' 和雙引號 "，並使用很多加號 + 。
 - 你可以使用箭頭函數，來減少回撥的程式碼量，並改善作用域 this 的問題。
 - 你可以使用原生的 Promises 來解決地獄式回撥的問題。
 - 你還可以在 JavaScript 中使用真正的物件導向程式設計。
 - 。。。

在最新的 Chrome、Edge、Safari、Firefox 瀏覽器裡，它們對於 ES6 的特性支援幾乎都在 90% 以上。當我們需要在瀏覽器上執行 ES6 程式碼時，就需要使用類似於 Babel 這樣的轉譯工具，來將程式碼轉換為 ES5 來在普通瀏覽器上執行。

遺憾的是，主流的瀏覽器對於 ES2016+ 以及下一代的 ES.next 的支援是有限的。除此，它還有一系列需改進的語法，並不能讓我覺得滿意。

然後，我開始轉向了 TypeScript。

### TypeScript

我開始嘗試 TypeScript 的原因是，ES6 一直在變化。在 ES6 語言特性沒有穩定下來的時候，我選擇它作為技術棧總會存在一些風險。在這個時候，TypeScript 就成為了一個更好的選擇——它建立得更早，並且語言特性穩定。而真正促使我使用 TypeScript 的契機則是，Angular 2 中採用了 TypeScript 作為開發語言。簡單的來說，就是我需要用它，所以我才學 TypeScript 的。

TypeScript 與其他編譯為 JavaScript 的語言初衷是類似的，為了開發大規模 JavaScript 的應用。TypeScript 是 JavaScript 的嚴格超集，任何現有的JavaScript程式都是合法的TypeScript程式。TypeScript 第一次對外發布是在 2012 年 10 月，而在那之前在微軟的內部已經開發了兩年。因此，我們可以認為它是在 2010 年左右開始開發的。

與同時期的 ES6 相比，它更加完善，並且更適合於大型應用開發。TypeScript 從其名字來看，就是 Type + Script，它是一個強類型的語言。而 ES6 只帶有類型檢查器，它無法保證類型是正確的。這一點在處理資料 API 時，顯得非常具有優勢。當介面發生一些變化時，這些 interface 就會告訴你哪些地方發生了變化。

並且未來 TypeScript 將會和 ECMAScript 建議的標準看齊。

小結
---

除去語言本身，還有各種新的前端框架帶來的變化。和其他領域（如後臺，APP等等）中的框架一樣，有的框架可以用於開發中大型應用，有的框架則能讓我們更好地完成開發。
